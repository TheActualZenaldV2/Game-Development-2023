<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Spinning 3D Model</title>
    <style>
        body {
            margin: 0;
            overflow: hidden; /* Hide overflow to prevent scroll bars during loading */
        }
        canvas {
            display: block;
            cursor: grab;
        }
        #loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
        .fa-spinner {
            position: fixed;
            font-size: 10em;
            color: white;
            animation: spin 1s infinite linear;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
/* Styling for the model buttons */
#model-buttons {
    position: fixed;
    top: 50%;
    height: 100%;
    width: 100%;
    text-align: center;
    z-index: 1000;
}

#prev-model {
    position: absolute;
    left: 10px; /* Adjust the left position as needed */
    background-color: rgba(0, 0, 0, 0.5);
    color: white;
    padding: 10px 20px;
    border: none;
    border-radius: 5px;
    font-size: 1.5em;
    cursor: pointer;
    transition: background-color 0.3s;
}

#next-model {
    position: absolute;
    right: 10px; /* Adjust the right position as needed */
    background-color: rgba(0, 0, 0, 0.5);
    color: white;
    padding: 10px 20px;
    border: none;
    border-radius: 5px;
    font-size: 1.5em;
    cursor: pointer;
    transition: background-color 0.3s;
}

#prev-model:hover,
#next-model:hover {
    background-color: rgba(0, 0, 0, 0.7); /* Adjust the hover background color as desired */
}
#current-model-text {
  position: fixed;
  top: 10px; /* Adjust the top position as needed */
  left: 50%;
  transform: translateX(-50%);
  background-color: rgba(0, 0, 0, 0.7);
  color: white;
  padding: 5px 10px;
  border-radius: 5px;
  font-size: 1.5em;
  z-index: 1000;
}

    </style>
</head>
<body>
    <div id="loading-screen">
        <i class="fa fa-spinner fa-spin"></i>
    </div>
    <button id="prev-model"><i class="fas fa-arrow-left"></i> Previous </button>
<button id="next-model">Next  <i class="fas fa-arrow-right"></i></button>
<div id="current-model-text">
    <i class="fa-solid fa-earth-africa"></i>  <span id="currentModelText"> Loading...</span>
  </div>
  

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.132.2/examples/js/loaders/GLTFLoader.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/mrdoob/three.js@r128/examples/js/loaders/MTLLoader.js"></script>
    <script src="https://cdn.rawgit.com/mrdoob/three.js/r87/examples/js/loaders/OBJLoader.js"></script>
    <script src="https://kit.fontawesome.com/5e0a1eec4b.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.132.2/examples/js/controls/OrbitControls.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"></script>

<script>
// Create a scene
const scene = new THREE.Scene();

    // Create the camera
    const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 10000);


// Create an ambient light for overall scene illumination
const ambientLight = new THREE.AmbientLight(0xffffff, 0.5); // Adjust the color and intensity as needed
scene.add(ambientLight);

// Create a directional light (sunlight-like)
const directionalLight = new THREE.DirectionalLight(0xffffff, 2); // Adjust the color and intensity as needed
directionalLight.position.set(1, 1, 1); // Set the direction of the light
scene.add(directionalLight);






directionalLight.position.set(1, 1, 1);
directionalLight.castShadow = true; // Enable shadow casting

// Configure shadow properties
directionalLight.shadow.mapSize.width = 1024; // Shadow map width
directionalLight.shadow.mapSize.height = 1024; // Shadow map height
directionalLight.shadow.camera.near = 0.1; // Near plane of the shadow camera
directionalLight.shadow.camera.far = 10; // Far plane of the shadow camera

scene.add(directionalLight);




// Add linear fog to the scene
const starGeometry = new THREE.BufferGeometry();
const vertices = [];

for (let i = 0; i < 500; i++) {
    const x = (Math.random() - 0.5) * 40;  // Adjust the X position range (for stars farther away)
    const y = (Math.random() - 0.5) * 40;  // Adjust the Y position range (for stars farther away)
    const z = (Math.random() - 0.5) * 40;  // Adjust the Z position range (for stars farther away)

    vertices.push(x, y, z);
}


starGeometry.setAttribute('position', new THREE.Float32BufferAttribute(vertices, 3));
const starMaterial = new THREE.PointsMaterial({
  color: 0xFFFFFF, // Adjust the color of the stars
  size: 0.05,      // Adjust the size of the stars
  transparent: true,
  opacity: 0.5,    // Adjust the opacity for the star effect
});
const starParticles = new THREE.Points(starGeometry, starMaterial);
scene.add(starParticles);




// Create a renderer
const renderer = new THREE.WebGLRenderer();
renderer.setSize(window.innerWidth, window.innerHeight);
document.body.appendChild(renderer.domElement);

let gun; // Rename 'model' to 'gun'



const gltfLoader = new THREE.GLTFLoader();
let model;



// ... (your existing code here)
const modelUrls = [
    'https://theactualzenaldv2.github.io/Game-Development-2023/assignments/daniel/Mars_1_6792.glb',
    'https://theactualzenaldv2.github.io/Game-Development-2023/assignments/Venus(surface)_1_12103.glb',
    'https://theactualzenaldv2.github.io/Game-Development-2023/assignments/daniel/Jupiter_1_142984.glb',
    'https://theactualzenaldv2.github.io/Game-Development-2023/assignments/daniel/Earth_1_12756 (1).glb',
    'https://theactualzenaldv2.github.io/Game-Development-2023/assignments/daniel/Neptune_1_49528.glb',
];
const planetInfo = {
  'https://theactualzenaldv2.github.io/Game-Development-2023/assignments/daniel/Mars_1_6792.glb': {
    name: 'Mars',
  },
  'https://theactualzenaldv2.github.io/Game-Development-2023/assignments/Venus(surface)_1_12103.glb': {
    name: 'Venus',
  },
  'https://theactualzenaldv2.github.io/Game-Development-2023/assignments/daniel/Jupiter_1_142984.glb': {
    name: 'Jupiter',
  },
  'https://theactualzenaldv2.github.io/Game-Development-2023/assignments/daniel/Earth_1_12756 (1).glb': {
    name: 'Earth',
  },
  'https://theactualzenaldv2.github.io/Game-Development-2023/assignments/daniel/Neptune_1_49528.glb': {
    name: 'Neptune',
  },
};
let currentModelIndex = 0;

// Function to load and switch to the next model
function loadNextModel() {
    currentModelText.innerHTML = `<strong>Loading...</strong>`;

    currentModelIndex = (currentModelIndex + 1) % modelUrls.length;
    loadModel(modelUrls[currentModelIndex]);
}

// Function to load and switch to the previous model
function loadPrevModel() {
    currentModelText.innerHTML = `<strong>Loading...</strong>`;
    currentModelIndex = (currentModelIndex - 1 + modelUrls.length) % modelUrls.length;
    loadModel(modelUrls[currentModelIndex]);
}
// Function to load a model by URL
function loadModel(modelUrl) {

    // Show the loading screen
    const loadingScreen = document.getElementById('loading-screen');
    loadingScreen.style.display = 'flex';

    // Remove the current model from the scene
    if (model) {
        scene.remove(model);
    }

    // Load the new model
    gltfLoader.load(modelUrl, (gltf) => {
        const modelInfo = planetInfo[modelUrl];
  if (modelInfo) {
    // Update the current model text with the planet name and description
    const currentModelText = document.getElementById('currentModelText');
    currentModelText.innerHTML = `<strong>${modelInfo.name}</strong>`;
  }

        cameraZ = 0;
        cameraHeight = 1;
        cameraDistance = 10;

        model = gltf.scene;
      

        gltf.scene.scale.set(0.01, 0.01, 0.01);
    

        
        
        camera.position.set(
            model.position.x - cameraDistance,
            model.position.y + cameraHeight,
            model.position.z + cameraZ,
        );
        camera.lookAt(model.position);

        // Add the new model to the scene
        scene.add(model);

        // Hide the loading screen
        loadingScreen.style.display = 'none';

        // Log a message to indicate that the model has loaded
        console.log('GLB model has loaded successfully.');
    }, undefined, (error) => {
        console.error('Error loading GLB model:', error);
    });
}

// Handle button clicks
const prevModelButton = document.getElementById('prev-model');
const nextModelButton = document.getElementById('next-model');

prevModelButton.addEventListener('click', loadPrevModel);
nextModelButton.addEventListener('click', loadNextModel);

// Initial model load (you can change the index to load a different model initially)
loadModel(modelUrls[currentModelIndex]);


// Set up animation
const animate = () => {
    requestAnimationFrame(animate);

    // Rotate the model (change 'model' to 'gun')
    if (model) {
        model.rotation.y -= 0.0005;
        model.rotation.z += 0.0002;
        model.rotation.x += 0.0001;


   


    }
  
starParticles.geometry.attributes.position.needsUpdate = true;


    renderer.render(scene, camera);
};

// Handle window resize
window.addEventListener('resize', () => {
    const newWidth = window.innerWidth;
    const newHeight = window.innerHeight;

    camera.aspect = newWidth / newHeight;
    camera.updateProjectionMatrix();

    renderer.setSize(newWidth, newHeight);
});


const controls = new THREE.OrbitControls(camera, renderer.domElement);
controls.enableDamping = true; // Enable smooth camera movement
controls.dampingFactor = 1; // Adjust the damping factor for smoother movement
controls.rotateSpeed = 0.2; // Adjust the rotation speed


animate();

    </script>
</body>
</html>
